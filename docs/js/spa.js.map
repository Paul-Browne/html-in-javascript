{
  "version": 3,
  "sources": ["../../src/js/index.js", "../../src/js/spa.js"],
  "sourcesContent": ["const allElements = [\"img\",\"area\",\"base\",\"br\",\"col\",\"embed\",\"hr\",\"input\",\"link\",\"meta\",\"param\",\"source\",\"track\",\"wbr\",\"a\",\"abbr\",\"address\",\"article\",\"aside\",\"audio\",\"b\",\"bdi\",\"bdo\",\"blockquote\",\"body\",\"button\",\"canvas\",\"caption\",\"cite\",\"code\",\"colgroup\",\"data\",\"datalist\",\"dd\",\"del\",\"details\",\"dfn\",\"dialog\",\"div\",\"dl\",\"dt\",\"em\",\"fieldset\",\"figcaption\",\"figure\",\"footer\",\"form\",\"h1\",\"h2\",\"h3\",\"h4\",\"h5\",\"h6\",\"head\",\"header\",\"html\",\"i\",\"iframe\",\"ins\",\"kbd\",\"label\",\"legend\",\"li\",\"main\",\"map\",\"mark\",\"menu\",\"meter\",\"nav\",\"noscript\",\"object\",\"ol\",\"optgroup\",\"option\",\"output\",\"p\",\"picture\",\"pre\",\"progress\",\"q\",\"rp\",\"rt\",\"ruby\",\"s\",\"samp\",\"script\",\"section\",\"select\",\"slot\",\"small\",\"span\",\"strong\",\"style\",\"sub\",\"summary\",\"sup\",\"table\",\"tbody\",\"td\",\"template\",\"textarea\",\"tfoot\",\"th\",\"thead\",\"time\",\"title\",\"tr\",\"u\",\"ul\",\"var\",\"video\",\"fragment\"]\n\nconst argumentative = (...args) => {\n    let content = [];\n    let attributes = {};\n    for (let i = 0; i < args.length; i++) {\n        if(typeof args[i] === 'object'){\n            attributes = {\n                ...attributes,\n                ...args[i]\n            }\n        }else if(typeof args[i] === 'string'){\n            content.push(args[i])\n        }else if(args[i].name){\n            /* \n                only works for function declarations\n                eg. function myFunction(){} \n            */\n            content.push(`${args[i]}`)\n        }            \n    }\n    return {\n        content: content.join(''),\n        attributes: Object.keys(attributes).map(key => {\n            if(typeof attributes[key] === 'function'){\n                return ` ${key}=\"(${attributes[key]})()\"`;\n            }\n            return ` ${key}=\"${attributes[key]}\"`;\n        }).join('')\n    }\n}\n\nconst htjs = allElements.reduce((acc, element) => {\n    const closingTag = allElements.indexOf(element) > 13 ? `</${element}>` : \"\";\n    acc[element] = (...args) => {\n        const { content, attributes } = argumentative(...args);\n        if(element == \"fragment\") return content\n        return `<${element}${attributes}>${content}${closingTag}`;\n    }\n    return acc;\n}, {})\n\nexport default htjs\n", "import htjs from './index.js';\n\nconst { fragment, meta, link, title, p, h1, a } = htjs;\n\nconst globalHead = fragment(\n    meta({ charset: \"UTF-8\" }),\n    meta({ name: \"viewport\", content: \"width=device-width, initial-scale=1.0\" }),\n    link({ rel: \"stylesheet\", href: \"/css/style.css\" })\n);\n\nconst page1 = {\n    head: () => fragment(\n        globalHead,\n        title(\"Spa!\")\n    ),\n    body: async () => {\n        let ipAddressQuery = {\n            ip: null\n        }\n        try {\n            ipAddressQuery = await (await fetch(\"https://api.ipify.org?format=json\")).json();\n        } catch (error) {}\n        return fragment(\n            h1(\"Hello World!\"),\n            p(\"Spa\"),\n            ipAddressQuery.ip ? p(ipAddressQuery.ip) : \"\",\n            a({ href: \"/page2\",  }, \"Page 2\"),\n            \" | \",\n            a({ href: \"/batman\",  }, \"Batman\")\n        )\n    }\n}\n\nconst page2 = {\n    head: () => fragment(\n        globalHead,\n        title(\"page 2!\")\n    ),\n    body: async () => {\n        return fragment(\n            h1(\"Hello World!\"),\n            p(\"Page 2\"),\n            a({ href: \"/spa\",  }, \"Spa\"),\n            \" | \",\n            a({ href: \"/batman\",  }, \"Batman\")\n        )\n    }\n}\n\nconst page3 = {\n    head: () => fragment(\n        globalHead,\n        title(\"BATMAN!\")\n    ),\n    body: async () => {\n        return fragment(\n            h1(\"Hello World!\"),\n            p(\"Batman\"),\n            a({ href: \"/spa\",  }, \"Spa\"),\n            \" | \",\n            a({ href: \"/page2\",  }, \"Page 2\")\n        )\n    }\n}\n\n// routing\n\nconst routes = {\n    \"/spa\": page1,\n    \"/page2\": page2,\n    \"/batman\": page3,\n}\n\nconst router = async () => {\n    const path = window.location.pathname;\n    const page = routes[path];\n    document.head.innerHTML = await page.head();\n    document.body.innerHTML = await page.body();\n}\n\n\ndocument.addEventListener(\"click\", (e) => {\n    if (!e.target.matches(\"a\")) {\n        return;\n    }\n    e.preventDefault();\n    window.history.pushState({}, \"\", e.target.href);\n    router();\n});\n\nwindow.addEventListener(\"popstate\", router);\ndocument.addEventListener(\"DOMContentLoaded\", router);"],
  "mappings": "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",
  "names": ["allElements", "argumentative", "args", "content", "attributes", "i", "key", "htjs", "acc", "element", "closingTag", "js_default", "fragment", "meta", "link", "title", "p", "h1", "a", "js_default", "globalHead", "page1", "ipAddressQuery", "page2", "page3", "routes", "router", "path", "page", "e"]
}
