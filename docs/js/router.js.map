{
  "version": 3,
  "sources": ["../../src/js/router.js"],
  "sourcesContent": ["window.state = {\n    foo: \"bar\"\n};\n\nconst router = async () => {\n    // example.com/foo/bar(/)  ->  example.com/pages/foo/bar/index.js\n    const path = window.location.pathname;\n    const resourcePath = `/js/pages${path.replace(/\\/$/, '')}/index.js`;\n    try {\n        (await import(resourcePath)).default({ state: window.state });\n    } catch {\n        try {\n            (await import('/js/pages/404/index.js')).default({ state: window.state })\n            // window.location.replace(window.history.state.prev);\n        } catch {}            \n    }\n}\n\n// fire on click\ndocument.addEventListener(\"click\", e => {\n    const { href } = e.target;\n    // ignore clicks on anything that doesn't have a href\n    // or if the href is an external link\n    if (href && new URL(href).origin === window.location.origin ){\n        e.preventDefault();\n        if(href !== window.location.href){\n            // window.history.pushState({ prev: window.location.pathname }, \"\", href);\n            window.history.pushState({}, \"\", href);\n            router()\n        }\n    }\n});\n\n// fire on back/forward\nwindow.addEventListener(\"popstate\", router);\n\n// fire once on initial load\ndocument.addEventListener(\"DOMContentLoaded\", router );"],
  "mappings": "AAAA,OAAO,MAAQ,CACX,IAAK,KACT,EAEA,IAAMA,EAAS,SAAY,CAGvB,IAAMC,EAAe,YADR,OAAO,SAAS,SACS,QAAQ,MAAO,EAAE,CAAC,YACxD,GAAI,EACC,MAAM,OAAOA,IAAe,QAAQ,CAAE,MAAO,OAAO,KAAM,CAAC,CAChE,MAAQ,CACJ,GAAI,EACC,KAAM,QAAO,wBAAwB,GAAG,QAAQ,CAAE,MAAO,OAAO,KAAM,CAAC,CAE5E,MAAQ,CAAC,CACb,CACJ,EAGA,SAAS,iBAAiB,QAAS,GAAK,CACpC,GAAM,CAAE,KAAAC,CAAK,EAAI,EAAE,OAGfA,GAAQ,IAAI,IAAIA,CAAI,EAAE,SAAW,OAAO,SAAS,SACjD,EAAE,eAAe,EACdA,IAAS,OAAO,SAAS,OAExB,OAAO,QAAQ,UAAU,CAAC,EAAG,GAAIA,CAAI,EACrCF,EAAO,GAGnB,CAAC,EAGD,OAAO,iBAAiB,WAAYA,CAAM,EAG1C,SAAS,iBAAiB,mBAAoBA,CAAO",
  "names": ["router", "resourcePath", "href"]
}
